EIGRP (Enhanced Interior Gateway Routing Protocol)
=================================================

EIGRP is an advanced distance-vector routing protocol developed by Cisco. It blends classic distance-vector behavior with link-state-like features, which is why it is often described as a hybrid routing protocol. Its primary goals are fast convergence, efficient bandwidth usage, and loop-free routing.

----------------------------------------
1. Where EIGRP Fits
----------------------------------------
EIGRP is an Interior Gateway Protocol (IGP). It is designed to operate within a single autonomous system (AS). It is commonly used in enterprise networks and lab environments (such as EVE-NG or Packet Tracer) where fast convergence and scalability are important.

----------------------------------------
2. Core Concepts
----------------------------------------

Autonomous System Number (ASN):
EIGRP uses an ASN to identify routing domains. Routers must share the same ASN to become neighbors and exchange routes.

Protocol Dependent Modules (PDMs):
EIGRP supports multiple Layer 3 protocols through PDMs. These include IPv4, IPv6, and historically IPX and AppleTalk. Each PDM operates independently but shares the same core engine.

----------------------------------------
3. DUAL Algorithm
----------------------------------------
EIGRP uses the Diffusing Update Algorithm (DUAL). This is the brain of EIGRP.

DUAL guarantees:
- Loop-free paths at all times
- Rapid convergence
- Minimal route recomputation

Key DUAL Terms:

Successor:
The best next-hop route to reach a destination. This is the route installed in the routing table.

Feasible Successor:
A backup route that is guaranteed to be loop-free. If the successor fails, EIGRP can immediately switch to the feasible successor without recomputing the network.

Feasibility Condition:
A route is a feasible successor if the reported distance from a neighbor is less than the feasible distance of the current successor.

----------------------------------------
4. Metrics and Bandwidth
----------------------------------------
EIGRP uses a composite metric, not just hop count.

Default metric components:
- Bandwidth (minimum bandwidth along the path)
- Delay (sum of interface delays)

Optional components (disabled by default):
- Reliability
- Load
- MTU (used only for path selection tie-breakers)

Metric Formula (simplified):
Metric = 256 * (Bandwidth + Delay)

Bandwidth:
Calculated using the lowest bandwidth on the path. This is why incorrect interface bandwidth settings can break EIGRP path selection.

Delay:
Accumulated delay across all outgoing interfaces in the path.

----------------------------------------
5. Neighbor Relationships
----------------------------------------
EIGRP forms neighbor adjacencies using Hello packets.

Hello packets:
- Sent to multicast address 224.0.0.10 (IPv4)
- Used to discover and maintain neighbors

Requirements for adjacency:
- Same ASN
- Matching K-values (metric weights)
- Same primary subnet
- Authentication match (if configured)

----------------------------------------
6. Updates and Traffic Efficiency
----------------------------------------
EIGRP does not send periodic full routing updates.

Instead, it uses:
- Partial updates: Only changed routes are sent
- Bounded updates: Updates go only to affected neighbors

This makes EIGRP very bandwidth-efficient compared to RIP.

----------------------------------------
7. Convergence Behavior
----------------------------------------
When a route fails:
- If a feasible successor exists, EIGRP switches instantly.
- If no feasible successor exists, EIGRP enters an active state and queries neighbors.
- Once replies are received, a new successor is selected.

Stuck-in-Active (SIA):
Occurs when a router does not receive replies to its queries within the active timer. This usually indicates design issues or unstable links.

----------------------------------------
8. EIGRP Tables
----------------------------------------

Neighbor Table:
Tracks directly connected EIGRP neighbors.

Topology Table:
Stores all learned routes (successors and feasible successors).

Routing Table:
Contains only the best routes selected by DUAL.

----------------------------------------
9. EIGRP for IPv6
----------------------------------------
EIGRP for IPv6 is configured differently:
- Enabled per interface, not globally
- Uses a router ID
- Still uses DUAL and the same metric logic

----------------------------------------
10. Load Balancing
----------------------------------------
EIGRP supports:
- Equal-cost load balancing (default)
- Unequal-cost load balancing using the variance command

Variance allows traffic to be shared across paths that are not equal in metric, as long as they meet feasibility conditions.

----------------------------------------
11. Advantages of EIGRP
----------------------------------------
- Very fast convergence
- Efficient use of bandwidth
- Loop-free by design
- Supports unequal-cost load balancing
- Scales well in enterprise networks

----------------------------------------
12. Limitations and Considerations
----------------------------------------
- Historically Cisco-proprietary (now partially open)
- Requires careful bandwidth configuration
- Not ideal for multi-vendor environments compared to OSPF

----------------------------------------
13. Practical Lab Notes
----------------------------------------
In lab environments like Packet Tracer:
- Always set correct interface bandwidth
- Verify neighbors with show ip eigrp neighbors
- Verify topology with show ip eigrp topology
- Watch for SIA in unstable topologies

----------------------------------------
End of File
----------------------------------------
